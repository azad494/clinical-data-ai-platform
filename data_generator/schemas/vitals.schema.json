{
  "dataset": "vitals",
  "description": "Time-series vital signs events generated within an encounter window.",
  "primary_key": ["event_id"],
  "foreign_keys": [
    { "field": "encounter_id", "references": "encounters.encounter_id" },
    { "field": "patient_id", "references": "patients.patient_id" }
  ],
  "fields": [
    { "name": "event_id", "type": "int", "required": true, "description": "Unique vital event identifier." },

    { "name": "encounter_id", "type": "int", "required": true, "description": "FK to encounters.encounter_id." },
    { "name": "patient_id", "type": "int", "required": true, "description": "FK to patients.patient_id (redundant but helpful for joins)." },

    { "name": "event_time", "type": "datetime", "required": true, "format": "iso8601", "description": "Time the vitals were recorded. Must be within admit/discharge." },

    { "name": "heart_rate", "type": "int", "required": true, "constraints": { "min": 20, "max": 250 }, "description": "HR in beats per minute." },
    { "name": "spo2", "type": "int", "required": true, "constraints": { "min": 50, "max": 100 }, "description": "Oxygen saturation percentage." },
    { "name": "sbp", "type": "int", "required": true, "constraints": { "min": 50, "max": 250 }, "description": "Systolic blood pressure (mmHg)." },
    { "name": "dbp", "type": "int", "required": true, "constraints": { "min": 30, "max": 160 }, "description": "Diastolic blood pressure (mmHg)." },
    { "name": "resp_rate", "type": "int", "required": false, "constraints": { "min": 5, "max": 60 }, "description": "Respiratory rate (breaths/min). Optional." },
    { "name": "temperature_c", "type": "float", "required": false, "constraints": { "min": 30.0, "max": 43.0 }, "description": "Body temperature in Celsius. Optional." }
  ],
  "constraints": [
    { "rule": "event_time BETWEEN encounters.admit_time AND encounters.discharge_time", "description": "Vitals must occur within the encounter window." }
  ],
  "file_format": {
    "type": "csv",
    "expected_filename": "vitals.csv"
  }
}
